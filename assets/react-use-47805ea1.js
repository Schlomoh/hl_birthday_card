import{r as a}from"./vendor-8c9868d3.js";var l=function(){return l=Object.assign||function(n){for(var r,e=1,u=arguments.length;e<u;e++){r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},l.apply(this,arguments)};function b(){var t=a.useRef(!1),n=a.useCallback(function(){return t.current},[]);return a.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),n}function y(t,n,r){n===void 0&&(n=[]),r===void 0&&(r={loading:!1});var e=a.useRef(0),u=b(),c=a.useState(r),s=c[0],f=c[1],d=a.useCallback(function(){for(var v=[],i=0;i<arguments.length;i++)v[i]=arguments[i];var g=++e.current;return s.loading||f(function(o){return l(l({},o),{loading:!0})}),t.apply(void 0,v).then(function(o){return u()&&g===e.current&&f({value:o,loading:!1}),o},function(o){return u()&&g===e.current&&f({error:o,loading:!1}),o})},n);return[s,d]}function I(t,n){n===void 0&&(n=[]);var r=y(t,n,{loading:!0}),e=r[0],u=r[1];return a.useEffect(function(){u()},[u]),e}var m=function(t,n){var r=a.useState(null),e=r[0],u=r[1];return a.useEffect(function(){if(t.current&&typeof IntersectionObserver=="function"){var c=function(f){u(f[0])},s=new IntersectionObserver(c,n);return s.observe(t.current),function(){u(null),s.disconnect()}}return function(){}},[t.current,n.threshold,n.root,n.rootMargin]),e};const O=m;export{I as a,O as u};
